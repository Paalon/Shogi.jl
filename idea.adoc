= Idea
:toc:
:source-highglighter: highlight.js

[cols="1h,^1,^1,^1,^1,^1"]
|===
| | 将棋グラフ | 将棋木 | 棋譜 | 手 | 局面 

| 日本将棋連盟 | ✕ | ✕ | ◯ | n | ✕
| KIF | ✕ | ✕ | ◯ | n | ✕
| KI2 | ✕ | ✕ | ◯ | n | ✕
| 独自 | ✕ | ✕ | ◯ | 1 | ◯
| SFEN | ✕ | ✕ | ◯ | 1 | ◯
| CSA | ✕ | ✕ | ◯ | 1 | ◯
| JKF | ✕ | ◯ | ◯ | 1 | ◯
| 完全指定 + GraphViz | ◯ | ◯ | ◯ | ◯ | ◯
|===

== 将棋グラフ

== 将棋木

== 棋譜

|===
| | 例 |
| 連盟 |
| KIF |
| KI2 |
| SFEN |
| CSA |
| JKF |
| Perfect Specify |
|===

== 局面

=== 日本将棋連盟

なし

=== KIF 

なし

=== SFEN

[source, txt]
----
sfen lnsgkgsnl/1r5b1/p1pppp1pp/6pP1/1p7/2P6/PP1PPPP1P/1B5R1/LNSGKGSNL w - 8
----

==== Minimal SFEN

[source, txt]
----
lnsgkgsnl/1r5b1/p1pppp1pp/6pP1/1p7/2P6/PP1PPPP1P/1B5R1/LNSGKGSNL w -
----

=== CSA

[source, txt]
----
P1-KY-KE-GI-KI-OU-KI-GI-KE-KY
P2 * -HI *  *  *  *  * -KA * 
P3-FU-FU-FU-FU-FU-FU-FU-FU-FU
P4 *  *  *  *  *  *  *  *  * 
P5 *  *  *  *  *  *  *  *  * 
P6 *  *  *  *  *  *  *  *  * 
P7+FU+FU+FU+FU+FU+FU+FU+FU+FU
P8 * +KA *  *  *  *  * +HI * 
P9+KY+KE+GI+KI+OU+KI+GI+KE+KY
+
----

=== JKF

[source, json]
----
"data": {
    "board": [
    [{"color":1, "kind":"KY"}, {                      },{"color":1, "kind":"FU"}, {}, {}, {}, {"color":0, "kind":"FU"}, {                      }, {"color":0, "kind":"KY"}],
    [{"color":1, "kind":"KE"}, {"color":1, "kind":"KA"},{"color":1, "kind":"FU"}, {}, {}, {}, {                      }, {"color":0, "kind":"HI"}, {"color":0, "kind":"KE"}],
    [{"color":1, "kind":"GI"}, {                      },{"color":1, "kind":"FU"}, {}, {}, {}, {"color":0, "kind":"FU"}, {                      }, {"color":0, "kind":"GI"}],
    [{"color":1, "kind":"KI"}, {                      },{"color":1, "kind":"FU"}, {}, {}, {}, {"color":0, "kind":"FU"}, {                      }, {"color":0, "kind":"KI"}],
    [{"color":1, "kind":"OU"}, {                      },{"color":1, "kind":"FU"}, {}, {}, {}, {"color":0, "kind":"FU"}, {                      }, {"color":0, "kind":"OU"}],
    [{"color":1, "kind":"KI"}, {                      },{"color":1, "kind":"FU"}, {}, {}, {}, {"color":0, "kind":"FU"}, {                      }, {"color":0, "kind":"KI"}],
    [{"color":1, "kind":"GI"}, {                      },{"color":1, "kind":"FU"}, {}, {}, {}, {                      }, {                      }, {"color":0, "kind":"GI"}],
    [{"color":1, "kind":"KE"}, {"color":1, "kind":"HI"},{"color":1, "kind":"FU"}, {}, {}, {}, {"color":0, "kind":"FU"}, {"color":0, "kind":"KA"}, {"color":0, "kind":"KE"}],
    [{"color":1, "kind":"KY"}, {                      },{"color":1, "kind":"FU"}, {}, {}, {}, {"color":0, "kind":"FU"}, {                      }, {"color":0, "kind":"KY"}]
    ],
    "color": 0,
    "hands":[
    {"FU":0,"KY":0,"KE":0,"GI":0,"KI":0,"KA":0,"HI":0},
    {"FU":0,"KY":0,"KE":0,"GI":0,"KI":0,"KA":0,"HI":0}
    ]
}
----

=== 完全指定

[source, graphviz]
----
"1c6042ae7e605f553c6046be30274604f8c09d3c6046aefe604f551c6042a459";
----

== 手

[cols="1h,3,^1,^1,^1"]
|===
| | 例 | n-stateful | 1-stateful | stateless

| 連盟 a|
[source, txt]
----
７６歩
----
| ◯ | ✕ | ✕
| KIF a|
[source, txt]
----
1 ７六歩(77) (00:00/00:00:00)
---- | ◯ | ✕ | ✕
| SFEN a|

[source, txt]
----
7g7f
----
| ◯ | ◯ | ✕
| CSA a|
[source, txt]
----
+7776FU
----
| ◯ | ◯ | ✕
| JKF a|
[source, json]
----
{ "move": { "from" : { "x" : 7, "y" : 7 }, "to" : { "x" : 7, "y" : 6 }, "color" : 0, "piece" : "FU" } }
----
| ◯ | ◯ | ✕
| Perfect Specify a|
[source, graphviz]
----
"1c6042ae7e605f553c6046be30274604f8c09d3c6046aefe604f551c6042a459" ->
"1c6042ae7e605f553c3046be30274604f8c09d3c6046aefe604f551c6042a458";
----
| ◯ | ◯ | ◯
|===

== a


局面から局面への写像が手。
手の表現方法には複数ある。

伝統的な形式 ☗７６歩, ☖３４歩, ☗２２飛成, 

先手なら `☗`
後手なら `☖` をつける。
to_koma を伝統形式で

SFEN 形式 ☗７６歩 `7g7f`, ☖３４歩 `3c3d`, ☗２２飛成 `2h2b+`, `4e5c`, `P*8g`
CSA 形式 ☗７６歩 `+7776FU`, ☖３４歩 `-3334FU`, ☗２２飛成 `+2822RY`, ☗５３桂不成 `+4553KE`, ☗８７歩 `+0087FU`



指し手の表現



データベース

目的：将棋の定跡・棋譜データベースを作成して整理したい。

階層型
ネットワーク型
リレーショナル型


RDBMS relational database management system
NoSQL 

== DataFrames

特定の列を削除する。

[source, julia]
----
select(df, Not(:column_name))
----

列を追加する。

[source, julia]
----
insertcols!(df, :column_name => column)
----

表を結合する。

[source, julia]
----
hcat(df1, df2)
----
